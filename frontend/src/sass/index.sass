/* Copyright (C) 2023, 2024  cserver45, cseven
   License info can be viewed in app.py or the LICENSE file inside the github repositiory located here:
   https://github.com/01000011-00110111/School-Chat */  
@use 'badges'
@use 'native'
@use 'themes'

:root
  --background-accent-1: black
  --background-accent-2: #4e4e4e

  --foreground-accent-1: white
  --foreground-accent-2: purple
  --primary-accent-color: purple
  @extend %theme

body
  margin: 0
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif
  -webkit-font-smoothing: antialiased
  -moz-osx-font-smoothing: grayscale


code
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace


.main
  width: 100vw
  height: 100vh
  display: grid
  justify-content: center
  justify-items: center
  background: var(--main-background-color)
  // background: linear-gradient(90deg,#9A93D8 13%, #007B79 58%, #384E82 91%)
  // background: linear-gradient(red, purple)


.chat_container
  width: 100%
  height: 100%
  display: flex
  justify-content: space-between


.chat_center
  display: grid
  width: 66vw
  height: 90vh
  border-radius: 12px
  justify-content: center
  background: var(--chat-background-color)
  grid-template-columns: 100%

.chat
  color: white
  width: 100%
  padding: 1rem
  overflow-y: scroll
  max-height: 43rem

.topbar
  top: 0.5vh
  height: 7.1vh
  width: 98vw
  background: var(--topbar-background-color)
  color: var(--topbar-text-color)
  display: flex
  border-radius: 12px
  place-items: center
  justify-content: space-between
  position: relative


.topbar div
  display: flex

#room_display
  font-family: "Inter", sans-serif
  font-size: 35px
  font-weight: normal
  margin: 15px


.sidenav
  position: relative
  background: var(--sidenav-background-color)
  display: flex
  flex-direction: column
  color: var(--sidenav-text-color)
  z-index: 2
  height: 90vh
  width: 4.5vw
  border-radius: 12px
  justify-items: center
  align-items: center
  grid-template-columns: 100%
  grid-template-rows: 24rem 0rem
  transition: all 0.5s ease-in-out

  button 
    display: none

.sidenav li
  list-style-type: none
  


.sidenav_opened
  display: grid !important
  width: 15vw
  transition: all 0.5s ease-in-out

  button
    display: block

  .sidenav_dropdown .content
    background: #1F1E1E57
    border-radius: 12px
    height: fit-content
    display: grid
    align-content: space-around
    padding: 8px 0px
    justify-items: left
    text-indent: 30px

  .sidenav_dropdown li a
    color: var(--sidenav-buttons-text-color)
    text-decoration: none
    font-size: 20px

  .sidenav_dropdown li a:hover
    color: gray

  .sidenav_button
    font-size: 18px
    // background: var(--sidenav-buttons-background-color)
    background: #1F1E1E57
    color: var(--sidenav-buttons-text-color)
    align-items: center
    justify-content: left
    padding-top: 0
    text-indent: 13px
    top: 10px
    position: relative
  
  .sidenav_button p
    display: flex

  .profile_card
    background: rgba(0, 0, 0, 0.1450980392)
    bottom: 0.7vh
    justify-content: left
    border-radius: 10px
    transition: ease-in-out all 1s
    width: 94%

  .profile_preview .profile_user_preview 
    display: grid

  .profile_button
    margin: 0px 9px 0px 6px

.sidenav_button
  width: 100%
  height: 32px
  place-content: center
  color: var(--sidenav-buttons-text-color)
  text-decoration: none
  font-size: 30px
  display: flex
  padding-top: 5rem
  border-radius: 7px

.sidenav_button p
  display: none

.sidenav_dropdown
  width: 100%
  height: fit-content
  display: grid
  align-content: center
  justify-items: center
  grid-template-columns: 100%

.sidenav_dropdown .content
  width: 100%
  height: fit-content
  display: none

.nav_buttons_container
  width: 94%
  height: fit-content
  display: grid
  justify-content: center
  justify-content: center
  grid-template-columns: 100%
  grid-template-rows: 40px 40px 40px 40px
  position: absolute
  bottom: 8vh

.status_indicator
  background: red
  width: 0.6rem
  height: 0.6rem
  border-radius: 100px
  animation: color_fading 2s infinite

#nav_button
  width: 3rem
  font-size: 29px
  background: transparent
  border: 0
  color: var(--sidenav-extend-button-color)


.bottom_bar
  height: 7.3vh
  width: 100%
  display: flex
  place-self: end
  place-items: center
  justify-content: space-evenly
  background: var(--bottom-bar-background-color)
  border-radius: 12px

.message_box
  display: flex
  height: 6.1vh
  width: 83.4%
  position: relative
  place-items: center
  background: var(--message-box-background-color)
  border-radius: 6px
  padding: 0px 1px 0px 0px

#message_input
  width: 100%
  height: 2.7rem
  outline: none
  border: 0
  font-size: 18px
  text-indent: 7px
  background: transparent

#send_button
  width: 3.4rem
  min-width: fit-content
  height: 3.4rem
  background: var(--send-button-background-color)
  color: var(--send-button-text-color)
  border-radius: 9px
  border: 0
  font-size: 20px
  font-weight: bold
  margin: 0px 4px

#send_button:hover
  color: rgb(212, 212, 212)

#send_button:active
  color: grey

#file_import_input
  display: none

#file_import_button
  height: 3rem
  width: 3rem
  background: white
  border-radius: 9px
  font-size: 20px
  color: blue
  display: flex
  place-items: center
  justify-content: center
  margin: 0px 0px 0px 5px
  border: 0

#remaining_chars
  position: absolute
  color: white
  bottom: 7.4vh
  left: 23.2vw
  width: fit-content

.profile_button
  border-radius: 100px
  width: 40px
  height: 40px
  border: 1px solid #D1D1D1
  object-fit: cover

.profile_card 
  display: flex
  text-align: center
  width: 100%
  height: 7%
  align-items: center
  position: absolute
  align-self: center

.profile_preview 
    display: flex
    align-items: center

.profile_user_preview 
  display: grid
  color: var(--usercard-text-color)
  left: 0px
  position: relative
  grid-template-rows: 18px
  margin: 0
  padding: 0
  gap: 4px

.profile_user_preview .profile_status 
    display: flex
    align-items: center
    justify-content: left
    text-indent: 6px

.profile_status p
  font-size: 12px
  font-weight: lighter
  font-family: sans-serif


.profile_status div 
  background: lime
  width: 0.5rem
  height: 0.5rem
  border-radius: 100%

#profile_card_username
  font-size: 15px


.card_opened 
  transform: translate(0, 6%)
  transition: ease-in-out 0.4s


.card_closed 
  transform: translate(0, 0)
  opacity: 0
  transition: ease-in-out 0.4s

.user_list
  display: grid
  background: var(--userlist-background-color)
  color: var(--userlist-text-color)
  height: 90vh
  width: 15vw
  border-radius: 12px
  justify-content: center
  justify-items: center
  grid-template-columns: 100%
  grid-template-rows: repeat(auto-fit, minmax(calc(4em + 9px), 0fr))
  overflow-y: scroll
  overflow-x: hidden

#user_list
  display: grid
  height: 100vh
  width: 96%
  padding: 0
  grid-template-columns: 100%
  grid-template-rows: repeat(auto-fit, minmax(calc(3.7em + 9px), 0fr))

#user_search_input
  margin-top: 11px
  justify-self: center
  outline: none
  background: #181818
  color: white
  width: 90%
  height: 2rem
  border-radius: 6px
  border: 1px solid aliceblue
  text-indent: 6px

#user_count_container
  width: 95%
  height: 82%
  display: grid
  background: #FFFFFF08
  border-radius: 5px
  align-content: center
  text-indent: 7px
  position: relative
  top: 0.5vh
  grid-template-rows: 26px

#online_users_count
  font-size: 17px

#offline_users_count
  font-size: 12px
  font-weight: lighter

.users_container
  width: 100%
  height: fit-content
  display: grid
  align-content: baseline

.user_card_mini
  width: 100%
  height: fit-content
  min-height: 51px
  display: flex
  align-items: center
  text-indent: 8px
  border-radius: 12px

.user_card_mini img
  width: 2.7rem
  height: 2.7rem
  border-radius: 100px
  border: 2px solid #404040

.userlist_user
  display: flex
  align-items: center
  gap: 6px

.userlist_info_container
  display: grid
  width: 100%
  height: 3rem
  background: #FFFFFF08
  border-radius: 5px
  align-content: center
  gap: 2px
  text-indent: 4px

.userlist_picture
  width: 3rem
  height: 3rem
  border-radius: 100%

.userlist_displayname
  font-size: 19px
  height: fit-content
  padding: 0
  margin: 0

.userlist_role
  font-size: 12px
  font-weight: lighter
  height: fit-content
  padding: 0
  margin: 0

.user_card_mini:hover
  background: hsl(0, 0.00%, 31.80%)

.online
  border: 1.5px solid #00FF04

.offline
  border: 1.5px solid #FF0000

.idle
  border: 1.5px solid orange

.user_message
  background: transparent
  width: fit-content
  height: fit-content
  min-height: 75px
  min-width: fit-content
  max-width: 260px
  display: flex
  align-items: center
  padding: 6px
  word-wrap: anywhere

.message_image_container .user_profile_picture
  width: 3rem
  height: 3rem
  border-radius: 100px
  border: 2px solid #404040

.message_info
  display: grid
  grid-template-rows: 1.5rem
  padding: 0px 9px

.message_info_container
  display: flex
  align-items: center
  min-height: 34px
  width: 46pc

.message_content_container
  display: flex
  align-items: center

.message_content_container p
  margin: 0.5rem 0px

.native_context_menu
  top: 0px
  left: 0px
  width: 330px
  height: 160px
  background: #ffffffd4
  position: fixed
  display: grid
  z-index: 5
  border-radius: 13px

.native_context_menu button
  background: transparent
  color: black
  font-size: 16px
  font-weight: 350
  border: 0
  text-align: left
  text-indent: 14px

// Settings Page CSS

.settings_page
  background: var(--background-accent-1)
  color: var(--foreground-accent-1)
  display: flex

.settings_navigation_container
  margin: 4px
  color: var(--foreground-accent-1)
  width: 20rem
  height: fit-content
  min-height: 15rem
  display: grid
  justify-content: center
  grid-template-columns: 92%
  // box-shadow: 2px 2px 3px 1px gray

.settings_navigation_container button
  border: 0
  width: 100%
  height: 3rem
  display: flex
  align-items: center
  gap: 10px
  background: transparent
  color: var(--foreground-accent-1)
  font-size: 15px
  text-align: left
  border-radius: 9px

.settings_navigation_container button:hover
  background: #edeaf2

.settings_container
  width: 90%
  height: 100vh

.settings_container select
  width: 22rem
  height: 3rem
  border: 2px solid var(--background-accent-2)
  border-radius: 6px
  background: var(--background-accent-1)
  color: var(--foreground-accent-1)
  font-size: 17px

.profile_picture_container
  display: flex
  width: fit-content
  height: fit-content

.user_picture
  width: 5rem
  height: 5rem
  border-radius: 100px
  border: 2px solid red

#profile
  display: none

.hover_container
  width: inherit
  height: inherit
  position: absolute

.hover_container:hover
  background: gray

.settings_control_header
  display: flex
  place-items: center
  gap: 0.6rem


.return_button
  width: 2.4rem !important
  height: 2.4rem !important
  display: flex
  align-items: center
  justify-content: center
  border-radius: 100px
  background: black
  color: white
  box-shadow: 2px 2px 10px gray
  font-size: 20px !important
  border: 0

.return_button:active
  box-shadow: 0.5px 0.5px 10px gray

#displayname_input
  background: transparent
  width: 100%
  margin: 1rem 0rem 0.3rem 0
  border: 0
  outline: none
  text-align: center
  font-size: 20px
  font-weight: 500

#role_input
  background: transparent
  width: 100%
  border: 0
  outline: none
  text-align: center
  font-size: 15px

// Login Page CSS

#login_container
  width: 100vw
  height: 100vh
  color: var(--foreground-accent-1)
  background: var(--background-accent-1)
  display: flex
  transition:  0.5s all ease-in-out

.login_status
  color: red
  font-size: 22px
  margin: 5rem 0
  font-weight: 228
  text-shadow: 2px 2px 3px #848484

#left_login_container
  width: 25rem
  border-right: 2px solid var(--background-accent-2)
  display: grid
  justify-content: center
  grid-template-columns: 87%
  grid-template-rows: 23%

#form_container
  width: 100%
  height: 100%

#form_header
  height: 8rem
  margin: 31px 0px

.wrapper_panel
  width: 100%
  height: 8rem
  display: grid
  grid-template-rows: 38px
  align-content: center

.login_input
  width: 100%
  height: auto
  display: flex
  color: gray
  min-height: 3rem
  border-bottom: 1px solid gray

.login_input input
  width: 100%
  height: initial
  background: transparent
  color: var(--foreground-accent-1)
  outline: none
  border: 0

.login_input button
  border: 0
  height: 100%
  background: transparent
  color: black
  font-size: 25px

.panel_text
  display: flex
  align-items: center
  justify-content: space-between

.login_button
  width: 100%
  height: 3rem
  background: black
  color: white
  border: 0
  border-radius: 12px
  font-size: 27px
  font-weight: bold
  box-shadow: 1px 2px 6px 0px #5f5f5f

.login_button:active
  box-shadow: 0px 1px 3px 0px #505050

.panel_text p
  color: gray
  font-style: italic
  font-size: 14px

#right_preview_container
  width: 72%
  display: grid
  justify-items: center

.rules_container
  width: 100%
  line-height: 28px
  border: 1px solid gray
  border-radius: 13px
  padding: 13px

#links_container
  width: 100%
  height: fit-content
  display: flex
  justify-content: space-around
  align-self: end
  padding: 0px 0px 4rem 0px

#links_container a
  color: var(--foreground-accent-2)
  text-decoration: none

#links_container a:hover
  text-decoration: black solid underline 2px

#Title 
  font-size: 80px
  align-self: center
  color: #dd7016
  text-shadow: 7px 3px 7px #464646

#Title::selection
  color: red
  text-shadow: 5px 0px 5px #464646

.background_blur
  position: fixed
  width: 100%
  height: 100%
  display: none
  backdrop-filter: blur(0.2rem)
  z-index: 3
  place-content: center

.user_profile_modal
  width: 60vw
  height: 50vh
  background: black
  color: white
  border-radius: 12px
  position: fixed
  display: flex
  place-self: center
  justify-self: center
  box-shadow: 3px 4px 10px 4px #181818

.profile_modal_options
  width: 13rem
  border-right: 1px solid white
  display: grid
  justify-items: center
  grid-template-rows: repeat(auto-fit, minmax(calc(1.9em + 9px), 0fr))
  grid-template-columns: 100%
  padding: 1rem 0px

.profile_details
  width: 39rem
  padding: 0px 0px 0px 2rem

.modal_user_details
  display: flex
  align-items: center

.modal_extra_details
  display: grid
  grid-template-rows: 43px
  align-content: center
  justify-content: center
  height: 6rem
  text-indent: 16px

#modal_user_picture
  width: 4rem
  height: 4rem
  border-radius: 100px
  border: 1px solid red

.profile_modal_button
  height: 2.4rem
  width: 86%
  background: transparent
  color: white
  display: flex
  justify-content: space-between
  font-size: 20px
  border: 0
  border-radius: 10px
  text-align: left
  align-items: center
  padding: 0px 7px
  text-indent: 11px

.profile_modal_button span
  width: fit-content
  display: flex
  align-items: center
  justify-content: space-between
  height: inherit

.profile_modal_button:hover
  background: gray

.close_modal_button
  border: 0
  width: 2rem
  height: 2rem
  position: absolute
  font-size: 25px
  background: black
  border-radius: 100px
  color: red
  right: 1%
  top: 1%
  box-shadow: 1px 1px 10px gray
  border: 1px solid white

.modal_badge_list
  display: flex

.show_modal
  display: grid !important

.signup-main
  background: linear-gradient(132deg, #181a1e, #000, #141414, #282828, #181a1e)
  color: white
  width: 100vw
  height: 100vh

.signup-prompt
  width: 100vw
  height: 88vh
  display: grid
  justify-content: center
  align-content: space-around
  grid-template-columns: 72vw
  animation: "signup-appear" 1s ease-in alternate

@keyframes signup-appear
  0%
    opacity: 0
  100%
    opacity: 1

.signup-prompt .prompt-step
  justify-items: center
  display: grid
  height: fit-content
  min-height: 46vh
  gap: 17px

.signup-prompt .textbox
  width: 38rem !important

.signup-prompt .textbox input
  color: white

.signup-bar
  min-height: 8vh
  display: flex
  align-items: center
  justify-content: space-between
  color: white

.signup-bar a
  align-content: center
  display: flex
  align-items: center
  gap: 0.6rem
  text-decoration: none
  color: #b5b5b5
  transition:0.3s ease-in-out
  cursor: pointer

.signup-bar a:hover
  color: white
  scale: 1.1

.signup-bar a::selection
  background: transparent

.navigate-button
  border: 0
  width: 10em
  height: 37px
  border-radius: 6px
  color: white
  background: #35353500
  box-shadow: 1px 1px 3px 1px #313131
  transition: 0.3s ease-in-out

.navigate-button:hover
  scale: 1.1

.step-count
  display: grid
  justify-items: center
  align-content: center
  color: gray
  grid-template-rows: 3rem 2rem

.progressbar
  border-radius: 4px
  width: 3.5rem
  height: 0.5rem
  background: #ededed
  // background "#29c3ff" when task completed
  box-shadow: 1px 1px 4px black inset

.step-container
  display: flex
  gap: 12px
  height: fit-content
  width: fit-content

.dialog-content
  display: flex
  height: fit-content
  gap: 1rem